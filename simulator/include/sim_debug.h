// =============================================================================
// --- 功能开关配置 (Feature Configuration) ---
// =============================================================================

/**
 * [功能] Difftest 对比机制
 * [操作] 开启：取消注释； 关闭：注释掉本项目
 * [注意] 开启后将与 Golden Model (如 NEMU) 进行逐条指令同步对比。
 * [影响] 会显著降低仿真速度。请确保已正确处理特殊指令 (is_special_instr)。
 */
#define CONFIG_DIFFTEST 1

/**
 * [功能] NPC 波形追踪 (Simulation Waveform Trace)
 * [操作] 开启：取消注释； 关闭：注释掉本项目
 * [注意] 生成 .vcd 或 .fst 格式的波形文件，供 GTKWave 观察信号。
 * [影响] 会产生海量的磁盘 IO，并可能填满硬盘。建议仅在短距离调试时开启。
 */
//#define CONFIG_NPC_OPEN_SIM 1


/**
 * [功能] DPI 级 MMIO 访问记录
 * [操作] 开启：取消注释； 关闭：注释掉本项目
 * [注意] 记录硬件电路直接通过 DPI-C 接口触发的总线读写。
 * [影响] 属于底层物理级调试，用于排查 AXI/Wishbone 等总线协议错误。
 */
//#define CONFIG_DPI_MMIO_DEBUG 1

/**
 * [功能] Difftest 级 MMIO 判定记录
 * [操作] 开启：取消注释； 关闭：注释掉本项目
 * [注意] 记录被 is_special_instr 识别并由于副作用而被跳过的访存操作。
 * [影响] 属于软件逻辑级调试，用于确认哪些指令未参与对比。
 */
//#define CONFIG_DIFFTEST_MMIO_DEBUG 1


/* =============================================================================
 * 指令追踪系统 (Instruction Tracing System)
 * -----------------------------------------------------------------------------
 * 开发者可根据调试需求开启不同深度的追踪。开启追踪会显著降低模拟器的模拟速度。
 * =============================================================================
 */
/**
 * @brief [全量原始记录] CONFIG_TRACE_LOG
 * [描述] 记录每一条提交指令的 PC 与原始指令字。
 * [场景] 适用于长距离运行后的系统崩坏轨迹分析，用于二进制级别的行为比对。
 */
//#define CONFIG_TRACE_LOG

/**
 * @brief [关键指令捕捉] CONFIG_TRACE_SPECIAL
 * [描述] 仅识别并追踪特定关键指令（如 ecall, CSR 访问, 原子操作等）。
 * [场景] 适用于监控特权级切换、系统调用及同步行为，性能损耗较小。
 */
#define CONFIG_TRACE_SPECIAL 1

/**
 * @brief [现场回溯追踪] CONFIG_ITRACE
 * [描述] 将二进制指令实时翻译为汇编语句。
 * [场景] 核心用于“崩坏现场”还原。通过记录出错前的最后一段指令流，辅助定位异常成因。
 * [影响] 严重依赖反汇编库，对运行性能有极大影响。
 */
#define CONFIG_ITRACE 1